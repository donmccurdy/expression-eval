!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.expressionEval=r():e.expressionEval=r()}(window,(function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){const n=t(1),o={"||":function(e,r){return e||r},"&&":function(e,r){return e&&r},"|":function(e,r){return e|r},"^":function(e,r){return e^r},"&":function(e,r){return e&r},"==":function(e,r){return e==r},"!=":function(e,r){return e!=r},"===":function(e,r){return e===r},"!==":function(e,r){return e!==r},"<":function(e,r){return e<r},">":function(e,r){return e>r},"<=":function(e,r){return e<=r},">=":function(e,r){return e>=r},"<<":function(e,r){return e<<r},">>":function(e,r){return e>>r},">>>":function(e,r){return e>>>r},"+":function(e,r){return e+r},"-":function(e,r){return e-r},"*":function(e,r){return e*r},"/":function(e,r){return e/r},"%":function(e,r){return e%r}},u={"-":function(e){return-e},"+":function(e){return+e},"~":function(e){return~e},"!":function(e){return!e}};function i(e,r){return e.map((function(e){return p(e,r)}))}async function a(e,r){return await Promise.all(e.map(e=>f(e,r)))}function c(e,r){const t=p(e.object,r);return e.computed?[t,t[p(e.property,r)]]:[t,t[e.property.name]]}async function s(e,r){const t=await f(e.object,r);return e.computed?[t,t[await f(e.property,r)]]:[t,t[e.property.name]]}function p(e,r){switch(e.type){case"ArrayExpression":return i(e.elements,r);case"BinaryExpression":return o[e.operator](p(e.left,r),p(e.right,r));case"CallExpression":let t,n,a;if("MemberExpression"===e.callee.type?(a=c(e.callee,r),t=a[0],n=a[1]):n=p(e.callee,r),"function"!=typeof n)return;return n.apply(t,i(e.arguments,r));case"ConditionalExpression":return p(e.test,r)?p(e.consequent,r):p(e.alternate,r);case"Identifier":return r[e.name];case"Literal":return e.value;case"LogicalExpression":return"||"===e.operator?p(e.left,r)||p(e.right,r):"&&"===e.operator?p(e.left,r)&&p(e.right,r):o[e.operator](p(e.left,r),p(e.right,r));case"MemberExpression":return c(e,r)[1];case"ThisExpression":return r;case"UnaryExpression":return u[e.operator](p(e.argument,r));default:return}}async function f(e,r){switch(e.type){case"ArrayExpression":return await a(e.elements,r);case"BinaryExpression":{const[t,n]=await Promise.all([f(e.left,r),f(e.right,r)]);return o[e.operator](t,n)}case"CallExpression":let t,n,i;if("MemberExpression"===e.callee.type?(i=await s(e.callee,r),t=i[0],n=i[1]):n=await f(e.callee,r),"function"!=typeof n)return;return await n.apply(t,await a(e.arguments,r));case"ConditionalExpression":return await f(e.test,r)?await f(e.consequent,r):await f(e.alternate,r);case"Identifier":return r[e.name];case"Literal":return e.value;case"LogicalExpression":{if("||"===e.operator)return await f(e.left,r)||await f(e.right,r);if("&&"===e.operator)return await f(e.left,r)&&await f(e.right,r);const[t,n]=await Promise.all([f(e.left,r),f(e.right,r)]);return o[e.operator](t,n)}case"MemberExpression":return(await s(e,r))[1];case"ThisExpression":return r;case"UnaryExpression":return u[e.operator](await f(e.argument,r));default:return}}e.exports={parse:n,eval:p,evalAsync:f,compile:function(e){return p.bind(null,n(e))},compileAsync:function(e){return f.bind(null,n(e))}}},function(e,r,t){!function(t){"use strict";var n=function(e,r){var t=new Error(e+" at character "+r);throw t.index=r,t.description=e,t},o={"-":!0,"!":!0,"~":!0,"+":!0},u={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},i=function(e){var r,t=0;for(var n in e)(r=n.length)>t&&e.hasOwnProperty(n)&&(t=r);return t},a=i(o),c=i(u),s={true:!0,false:!1,null:null},p=function(e){return u[e]||0},f=function(e,r,t){return{type:"||"===e||"&&"===e?"LogicalExpression":"BinaryExpression",operator:e,left:r,right:t}},l=function(e){return e>=48&&e<=57},y=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122},d=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57},x=function(e){for(var r,t,i=0,x=e.charAt,m=e.charCodeAt,h=function(r){return x.call(e,r)},v=function(r){return m.call(e,r)},b=e.length,E=function(){for(var e=v(i);32===e||9===e;)e=v(++i)},g=function(){var e,r,t=O();return E(),63!==v(i)?t:(i++,(e=g())||n("Expected expression",i),E(),58===v(i)?(i++,(r=g())||n("Expected expression",i),{type:"ConditionalExpression",test:t,consequent:e,alternate:r}):void n("Expected :",i))},w=function(){E();for(var r=e.substr(i,c),t=r.length;t>0;){if(u.hasOwnProperty(r))return i+=t,r;r=r.substr(0,--t)}return!1},O=function(){var e,r,t,o,u,a,c,s;if(a=j(),!(r=w()))return a;for(u={value:r,prec:p(r)},(c=j())||n("Expected expression after "+r,i),o=[a,u,c];(r=w())&&0!==(t=p(r));){for(u={value:r,prec:t};o.length>2&&t<=o[o.length-2].prec;)c=o.pop(),r=o.pop().value,a=o.pop(),e=f(r,a,c),o.push(e);(e=j())||n("Expected expression after "+r,i),o.push(u,e)}for(e=o[s=o.length-1];s>1;)e=f(o[s-1].value,o[s-2],e),s-=2;return e},j=function(){var r,t,n;if(E(),r=v(i),l(r)||46===r)return P();if(39===r||34===r)return M();if(y(r)||40===r)return L();if(91===r)return k();for(n=(t=e.substr(i,a)).length;n>0;){if(o.hasOwnProperty(t))return i+=n,{type:"UnaryExpression",operator:t,argument:j(),prefix:!0};t=t.substr(0,--n)}return!1},P=function(){for(var e,r,t="";l(v(i));)t+=h(i++);if(46===v(i))for(t+=h(i++);l(v(i));)t+=h(i++);if("e"===(e=h(i))||"E"===e){for(t+=h(i++),"+"!==(e=h(i))&&"-"!==e||(t+=h(i++));l(v(i));)t+=h(i++);l(v(i-1))||n("Expected exponent ("+t+h(i)+")",i)}return r=v(i),y(r)?n("Variable names cannot start with a number ("+t+h(i)+")",i):46===r&&n("Unexpected period",i),{type:"Literal",value:parseFloat(t),raw:t}},M=function(){for(var e,r="",t=h(i++),o=!1;i<b;){if((e=h(i++))===t){o=!0;break}if("\\"===e)switch(e=h(i++)){case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v"}else r+=e}return o||n('Unclosed quote after "'+r+'"',i),{type:"Literal",value:r,raw:t+r+t}},U=function(){var r,t=v(i),o=i;for(y(t)?i++:n("Unexpected "+h(i),i);i<b&&(t=v(i),d(t));)i++;return r=e.slice(o,i),s.hasOwnProperty(r)?{type:"Literal",value:s[r],raw:r}:"this"===r?{type:"ThisExpression"}:{type:"Identifier",name:r}},C=function(e){for(var r,t,o=[];i<b;){if(E(),(r=v(i))===e){i++;break}44===r?i++:((t=g())&&"Compound"!==t.type||n("Expected comma",i),o.push(t))}return o},L=function(){var e,r;for(r=40===(e=v(i))?S():U(),E(),e=v(i);46===e||91===e||40===e;)i++,46===e?(E(),r={type:"MemberExpression",computed:!1,object:r,property:U()}):91===e?(r={type:"MemberExpression",computed:!0,object:r,property:g()},E(),93!==(e=v(i))&&n("Unclosed [",i),i++):40===e&&(r={type:"CallExpression",arguments:C(41),callee:r}),E(),e=v(i);return r},S=function(){i++;var e=g();if(E(),41===v(i))return i++,e;n("Unclosed (",i)},k=function(){return i++,{type:"ArrayExpression",elements:C(93)}},A=[];i<b;)59===(r=v(i))||44===r?i++:(t=g())?A.push(t):i<b&&n('Unexpected "'+h(i)+'"',i);return 1===A.length?A[0]:{type:"Compound",body:A}};x.version="0.3.0",x.toString=function(){return"JavaScript Expression Parser (JSEP) v"+x.version},x.addUnaryOp=function(e){return o[e]=!0,this},x.addBinaryOp=function(e,r){return c=Math.max(e.length,c),u[e]=r,this},x.removeUnaryOp=function(e){return delete o[e],e.length===a&&(a=i(o)),this},x.removeBinaryOp=function(e){return delete u[e],e.length===c&&(c=i(u)),this},e.exports?r=e.exports=x:r.parse=x}()}])}));